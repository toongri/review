# 통합 테스트
확장에 용이한 형태를 띄기 위해 우리는 모듈화를 통해 코드를 작성합니다.
이 때 모듈 내의 테스트 뿐만 아니라 모듈 간의 테스트도 필요합니다.
이를 통합 테스트라고 합니다.

통합 테스트는 모듈 간의 협력을 테스트하고 기능 전체의 신뢰성을 보장합니다.
기능을 테스트할 때 풍부한 단위 테스트와 곁들여 큰 기능 단위를 검증하는 통합테스트로 진행합니다.

# Architecture 기반 단위 테스트
테스트 대상이 되는 클래스의 메서드를 테스트합니다.
테스트 대상이 되는 클래스의 의존성을 모두 목으로 대체하여 테스트의 속도를 높입니다.

## Persistence layer test

본인이 작성한 코드가 의도한 쿼리가 날라가는지를 확인하기 위해 테스트를 작성해야합니다.
미래에 스펙이 어떻게 변할지 모르기 때문에 테스트를 작성해야합니다.

### DataJpaTest vs SpringBootTest

@DataJpaTest는 SpringBootTest보다 더 가볍다라는 장점이 있습니다.
JPA와 관련된 Bean들만 주입해주는 덕분입니다.
하지만 @Trasactional이 붙어 있어 프로덕션 코드에서는 실제로 트랜잭션이 동작하는지 확인하기 어렵기 때문에 적절히 사용하는 것이 좋습니다.

## Business(Application + Domain) layer test
비즈니스 로직을 테스트합니다.
트랜잭션이 보장되는지 테스트합니다.
Persistence Layer와의 상호작용을 통해 비즈니스 로직을 전개시키기 때문에 실제 연동을 하거나 Mocking을 통해 테스트를 진행합니다.

## Presentation layer test

파라미터에 대한 최소한의 검증 수행합니다.